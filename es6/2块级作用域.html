<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // var a;
        // if (true) {
        //     var b = 123;
        // }
        // for (var i = 0; i < 12; i++) {
        //     var data = 123
        // }
        // function foo() {
        //     var bar = 123;
        // }

        
    </script>
    <script>
        // es6


        // 1:let const 声明的变量会形成块级作用域

        // 什么是块级作用域?
        // 块级作用域: let const 声明的变量,在哪里能够访问?
        // 哪里  ---> 为块级作用域 

        // 如何查找块级作用域????
        // 1: 看声明变量的方式:是不是  let  const 
        // 2: 找包裹 该变量的代码快  {}  
        // 3: 特殊的: for  if  else  

        let a = 123;
        {
            // let 声明的变量 形成了 块级作用域
            let a = 456;
            console.log(a);
        }
        console.log(a);


        if(true){
            let b = '123';
            console.log(b);
        }

        // 为什么报错?
        // console.log(b);


        // 2:特殊的for 

        for(var i =0;i<3;i++){
            setTimeout(()=>{
                console.log(i);  // 3 3 3
            },16.7)
        }

        for(var k = 0;k<3;k++){
            (function (k) {
                console.log(k);  // 012 
            })(k)
        }

        // 特殊：
        // for 中 let i  在执行时候,会形成多个块级作用域
        //  每个快,彼此独立, 每个中 i 都有初始值.
        for(let i =0;i<3;i++){
            setTimeout(()=>{
                console.log(i); // 0 1 2 
            },16.7)
        }

        // 问题：到底声明了几个i 变量？？
        //  只有一个;

        // 为什么输出结果是  0 1 2 不是 3 3 3 
        // 因为  for 循环执行多次, i 会产生多个 块级作用域, 每个之间彼此独立.都有初始值
        // 所以: setTimeOut 执行时候,访问的是 自己块中的赋值. 0 1 2 
    </script>
</body>

</html>